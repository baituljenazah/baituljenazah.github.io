<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pengurusan Jenazah Islam</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Segoe UI,Tahoma,sans-serif;background:#f4f6f8;color:#222}
header{background:#0b3c5d;color:#fff;padding:20px;text-align:center}
nav a{color:#fff;margin:0 10px;text-decoration:none;font-weight:500}
section{padding:50px 20px;max-width:900px;margin:auto}
h2{margin-bottom:15px;color:#0b3c5d}
.card{background:#fff;padding:20px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,.1);margin-bottom:20px}

input,textarea{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:6px;
  border:1px solid #ccc
}
button{
  background:#0b3c5d;
  color:#fff;
  padding:12px 30px;
  border:none;
  border-radius:6px;
  cursor:pointer
}
button:hover{opacity:.9}

/* MODAL */
.modal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  justify-content:center;
  align-items:center
}
.modal.active{display:flex}
.modal-box{
  background:#fff;
  padding:30px;
  border-radius:10px;
  text-align:center;
  max-width:400px;
  width:90%
}
footer{text-align:center;padding:20px;background:#ddd}
</style>
</head>

<body>

<header>
<h1>Pengurusan Jenazah Islam</h1>
<nav>
<a href="#home">Home</a>
<a href="#about">Tentang Kami</a>
<a href="#services">Perkhidmatan</a>
<a href="#payment">Pembayaran</a>
</nav>
</header>

<section id="home">
<div class="card">
<h2>Selamat Datang</h2>
<p>Kami menyediakan perkhidmatan pengurusan jenazah Islam secara profesional dan beretika.</p>
</div>
</section>

<section id="about">
<div class="card">
<h2>Tentang Kami</h2>
<p>Berpengalaman dalam menguruskan jenazah mengikut syariat Islam dengan penuh amanah.</p>
</div>
</section>

<section id="services">
<div class="card">
<h2>Perkhidmatan</h2>
<ul>
<li>Memandikan Jenazah</li>
<li>Mengkafankan</li>
<li>Solat Jenazah</li>
<li>Pengkebumian</li>
</ul>
</div>
</section>

<section id="payment">
<div class="card">
<h2>Pembayaran</h2>

<form id="payment-form">
<input type="text" id="nama" placeholder="Nama Penuh" required>
<input type="tel" id="telefon" placeholder="No Telefon" required>
<input type="email" id="email" placeholder="Email" required>
<textarea id="alamat" placeholder="Alamat" required></textarea>
<button type="submit">Bayar Sekarang</button>
</form>

</div>
</section>

<!-- MODAL -->
<div class="modal" id="success-modal">
<div class="modal-box">
<h3>Pembayaran Berjaya</h3>
<p>No Rujukan:</p>
<h2 id="ref-number"></h2>
<button onclick="closeModal()">Tutup</button>
</div>
</div>

<footer>
&copy; 2025 Pengurusan Jenazah Islam
</footer>

<!-- ================= FIREBASE ================= -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, addDoc, collection } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

/* ðŸ”¥ TUKAR YANG NI */
const firebaseConfig = {
  apiKey: "API_KEY_KAU",
  authDomain: "PROJECT_ID.firebaseapp.com",
  projectId: "PROJECT_ID",
  storageBucket: "PROJECT_ID.appspot.com",
  messagingSenderId: "XXXX",
  appId: "APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

document.getElementById("payment-form").addEventListener("submit", async (e) => {
  e.preventDefault();

  const data = {
    nama: nama.value,
    telefon: telefon.value,
    email: email.value,
    alamat: alamat.value,
    status: "berjaya",
    rujukan: "JNZ" + Date.now(),
    masa: new Date()
  };

  try {
    await addDoc(collection(db, "pembayaran"), data);
    document.getElementById("ref-number").textContent = data.rujukan;
    document.getElementById("success-modal").classList.add("active");
    e.target.reset();
  } catch (err) {
    alert("Gagal simpan data ðŸ˜­");
    console.error(err);
  }
});

window.closeModal = () => {
  document.getElementById("success-modal").classList.remove("active");
};
</script>

</body>
</html>

